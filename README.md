Pixie: an opiniated photo management app for minimalists.

## In a nutshell

* small app that you run locally, it loads pictures from given directories
* use vim-style keybinds to navigate, and add/remove tags to pictures
* easily create edits of pictures, and optionally tag them the same way.
* use script to generate export/album directories by finding all pictures matching certain criteria.


## Photo storage & workflow ideology.

I like plain simple directories of pictures. I like directories of pictures which I can upload to my albums online, or directories of pictures
to stream to my TV (not necessarily the same ones, organised the same way, and not neccesarily the same resolution), and I want to keep a copy of pictures exactly the way they came from my devices (so that syncing is trivial).
But I want minimal amount of manual hassle, and minimal redundancy.  I especially want no filesystem mess.

I want to have alternative versions of certain images, without polluting my "source" directories, and the ability to select which version
of an image goes into which album(s).

I want to be able to add metadata to pictures, but without modifying the pictures themselves, and in a simple, open format.
Any picture should be able to appear in 0, 1 or more photo albums (or more generally "exported directories"), without moving or copying files.

When composing albums, I want to filter down (i often make N pictures of the same thing), and select the best pictures, even across different devices (directories representing them),
but without messing in the original files directory.

I want software that makes this easier, but doesn't hide anything from me.
The process should be transparant and only be a thin layer over standard filesytme structures.


## Photo management workflow assumptions.


1. You have one or more directories that contain the pictures you pull from your devices or friends, and the directories remain untouched
  (other than the occasional sync to bring it up to date).  No renames, file modifications, or deletes that don't have corresponding deletes on the device.  This allows for trivial syncing/backups.  My directories are named like `photos/originals/dieter-sony-dsc`
2. any modifications done to pictures are saved in files in a separate directory. (such as `photos/edits/dieter-sony-dsc`). The filename of an edit looks like `<original-basename>-<name of edit>.<original-extension>`.
3. You assign tags to pictures based on their contents or desired goal (i.e. whether it should go in a certain album or not).
4. Exported directories (for photo albums for uploading or streaming to media) are generated by looking for files with certain tags in the aforementioned source and edits directories.   They can be erased and regenerated at any point.  They merely contain symlinks.


For 1 I use rsync, Pixie makes 2 and 3 as quick and easy as possible and [generate_albums.sh](https://github.com/Dieterbe/tmsu-helpers) takes care of 4.

It is conceivable that with the advent of new technology some of these things may change, however a simple file layout
that works on all posix file systems is very valuable (i.e. just directories, files and symlinks).


## Installation

Install tmsu, Go (aka golang) and graphicsmagick (for gothum)
Then:
```
export GOPATH=~/go
go get github.com/stvp/go-toml-config
go get github.com/mattn/go-sqlite3
go get github.com/Dieterbe/gothum
go get github.com/Dieterbe/pixie
cd ~/go/src/github.com/Dieterbe/pixie
go run pixie.go
```


## getting started 

* create a tmsu database (`~/.tmsu/default.db` must exist, you can do this by typing `tmsu files --all`)
* store into a directory thumbnailed versions of the pictures in the source directories you want to load. 
  a great way to do this is using [gothum](https://github.com/Dieterbe/gothum)
  thumbnails for new edits will be created by pixie, but thumbnails for existing pictures should exist in your thumbnail dir.
* update config.ini to point to the db and thumbnail directory
* configure keyboard shortcuts in partials/photos.html
* `go run pixie.go`, load `http://localhost:8080` in browser, load a source dir and go for it

## TODO

* using multiple directories in the UI at the same time (e.g. if you have pics of the same thing taken with different camera's),
  by sorting and merging the image lists by time, you can more easily select the best ones.
* a way to have "mirror directories", of files smaller than the originals, but bigger than thumbnails; so that export directories can
  point to those files.  (this also means that not every file should have be mirrored, only the ones which are used)
* before making edit, copy file to somewhere. edit that and allow save, if saved and different, copy to edits dir
if you open source file directly, you might accidentially overwrite it by saving it.
but this means extra copying of data..
